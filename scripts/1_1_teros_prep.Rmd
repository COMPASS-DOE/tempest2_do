---
title: "Prep TEROS data"
author: "PR"
date: "2024-03-19"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = F, 
                      message = F, 
                      warning = F)
```

### General purpose

I'm creating Rmds for each of the datastreams used in this project. TEROS data are relatively simple to ingest because they're pulled from GDrive which is already formatted. However, because there are so many TEROS sensors, there's a significant amount of quality control to document and justify.

### Teros deployment

We deployed a total of XX Teros sensors across the plots as part of the intial TEMPEST setup. All three plots are outfitted with similar TEROS deployments, where many different grid cells have TEROS sensors at 15 cm, and a subset of grid cells have sensors at 5/15/30 cm. It gets a little tricky to include all sensors since some sensors are intermittent, so there's some significant QC efforts that go into data prep

```{r Setup}
## First, load setup script to set up environment

source("../scripts/0_0_setup.R")

```

```{r Read in data}

## We will be using raw data downloaded from the TEMPEST dropbox, since the L1 TEMPEST TEROS data on GDrive have some issues to solve. These data are sourced from an archived script called x_1_1_230710_read_teros.R. Briefly, VWC is calculated as mutate(vwc = 3.879*10^-4 * vwc - 0.6956), and filter(vwc ##>= 0 & ec >= 0 & tsoil >= 0) removes impossible values

## Read in data
teros_5min_raw <- read_csv("../data/230710_teros_raw_5min.csv") %>% 
  mutate(datetime_raw = datetime, 
         datetime = force_tz(datetime, tz = common_tz))

teros_15min_raw <- read_csv("../data/230710_teros_raw_15min.csv")  %>% 
  mutate(datetime_raw = datetime, 
         datetime = force_tz(datetime, tz = common_tz))

```


